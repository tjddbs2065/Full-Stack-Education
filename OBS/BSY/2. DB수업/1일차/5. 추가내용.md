
## 1. Primary Key와 Foreign Key

관계형 데이터베이스에서 **테이블 간의 연결고리** 역할을 하는 것이 키(Key)입니다.

- **Primary Key (기본키)**
    
    - 한 행(Row)을 유일하게 식별하는 값
        
    - 예: `Employees` 테이블의 `employee_id`
        
- **Foreign Key (외래키)**
    
    - 다른 테이블의 Primary Key를 참조하는 속성
        
    - 예: `Departments` 테이블의 `manager_id` → `Employees.employee_id` 참조
        

👉 이때 **이름은 달라도 되지만, 데이터 타입과 값은 같아야** 두 테이블을 올바르게 연결할 수 있습니다.

---

## 2. 셀프 관계(Self-Relation)

외래키는 꼭 다른 테이블에만 걸리는 것이 아닙니다.

- 예: `Employees` 테이블에서 `employee_id`(기본키)가 다시 `manager_id`(외래키)로 연결될 수 있습니다.
    
- 의미: “한 직원의 상사는 같은 테이블 안의 다른 직원이다.”
    

👉 이런 구조를 **셀프 조인(Self Join)**이라고 부르며, 계층 구조(조직도, 카테고리 트리 등)를 표현할 때 자주 쓰입니다.

## 3. 관계 설정의 필요성

테이블 간에 관계를 맺어야 하는 이유는 **효율적인 데이터 조회** 때문입니다.

- 관계가 맺어져 있다면 → 조인을 통해 한 번의 쿼리로 원하는 데이터 조회 가능
    
- 관계가 없다면 → 여러 번의 쿼리를 실행하고, 애플리케이션 단에서 병합해야 함
    

👉 따라서 **식별자(Primary Key)와 관계(Foreign Key)**는 DB 설계에서 핵심적인 요소입니다.

---

## 4. 데이터 구조 도출 과정

데이터베이스 모델링은 다음 단계를 거칩니다.

1. **Entity (엔터티)**: 구조 (예: 학생, 직원, 강의)
    
2. **Attribute (속성)**: 값 (예: 이름, 나이, 과목명)
    
3. **Identifier (식별자)**: 속성 중 유일한 값 (예: 학번, 사번)
    
4. **Relation (관계)**: 엔터티 간 연결 (식별자가 있어야 가능)
    

👉 이 과정을 통해 현실 세계의 개념이 데이터베이스 구조로 추상화됩니다.

---

## 5. ORM(Object Relational Mapping)

프로그래밍 언어에서 객체(Object)를 다루듯이 데이터베이스의 테이블을 다룰 수 있게 해주는 기술입니다.

- **정의**: 객체와 관계형 DB를 매핑(Mapping)하여 SQL을 직접 작성하지 않고도 DB를 객체처럼 조작할 수 있게 해줌
    
- **예시**:
    
    - Java → Hibernate, JPA
        
    - Python → SQLAlchemy, Django ORM
        
- **장점**:
    
    - 개발 생산성 향상 (SQL 대신 객체 메서드 사용)
        
    - 유지보수성 ↑, DBMS 종속성 ↓
        

👉 ORM은 **객체지향적 프로그래밍과 관계형 데이터베이스의 차이를 메워주는 다리**라고 할 수 있습니다.


## 6. 핵심 정리 ✨

- **Primary Key & Foreign Key**: 테이블 간 관계의 핵심 (이름은 달라도 타입과 값은 같아야 함)
    
- **Self-Relation**: 같은 테이블 안에서의 관계 (조직도, 트리 구조 표현 가능)
    
- **관계 설정**은 효율적인 쿼리 조회를 위해 반드시 필요
    
- **ORM**은 객체와 DB를 매핑하여 프로그래밍적으로 DB를 다루는 기술


- Primary Key와 Foreign Key가 있을 때 이름이 같으면 좋지만 다른 경우가 있다.
- Oracle 기본 테이블 중 Employees이 employee_id 기본키는 Department 테이블에 manager_id로 외래키를 가진다. 이는 같은 값이다.
- Primary와 Foreign은 이름이 다를 수는 있지만, 타입과 값은 같아야 한다.
- 셀프로 관계 맺기(= employee_id - manager_id)
- 쿼리로 한번에 데이터를 가져오기 위해서는 테이블 간 관계가 맺어져 있어야 한다.
- 그렇지 않으면 여러번에 걸쳐 나눠서 데이터를 가져와야 한다.
##### 데이터 구조 도출 과정
1. Entity: 구조
2. Attribute: 값
3. Identifier: 식별자(속성 중 유일한 값)
4. Relation: 관계(식별자가 있어야 함)
##### ORM(Object Relational Mapping)
- 객체와 관계형 DB의 매핑하여 객체지형적으로 사용할 수 있게 해준다. 